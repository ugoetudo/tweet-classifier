[{"C:\\Users\\ugoet\\mturk-app\\src\\index.js":"1"},{"size":25216,"mtime":1685983278050,"results":"2","hashOfConfig":"3"},{"filePath":"4","messages":"5","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"6"},"w5pk93","C:\\Users\\ugoet\\mturk-app\\src\\index.js",["7","8","9","10","11","12","13","14"],"import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport '@fortawesome/fontawesome-free/css/all.min.css';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n} from 'react-router-dom';\r\n\r\nimport './index.css'\r\n//dev\r\nconst api_base_url = 'http://localhost:9000'\r\n//prod\r\n//const api_base_url = 'https://opim-big-data-analytics.ue.r.appspot.com'\r\n\r\nfunction MainPost(props) {\r\n    return (\r\n      //MAIN MESSAGE TO BE LABELED\r\n    <div> \r\n      <p>Tweet by @slpng_giants <strong>(tag this statement)</strong>:</p> \r\n      <div className='main-post'>\r\n        {props.text}\r\n      </div>\r\n      \r\n    </div>\r\n    )\r\n  }\r\n\r\nfunction SubPost(props) {\r\n  return ( //MAIN MESSAGE WAS IN RESPONSE TO\r\n    <div className='grid-container'>\r\n      <div className='response-arrow'>\r\n      \r\n      </div>\r\n      <p>@slpng_giants is responding to:</p>\r\n      <div className='sub-post'>\r\n        {props.text}\r\n      </div>\r\n    </div>\r\n    )\r\n}\r\nclass FrameType extends React.Component {\r\n  render() {\r\n    return (\r\n    <button className={this.props.isSelected ? 'example_d':'example_c'} \r\n            onClick={this.props.onClick}>{this.props.value}</button>\r\n    );\r\n  }\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({ \r\n  modal: {\r\n    top:'10%',\r\n    left:'10%',\r\n    position:'absolute',\r\n    display:'flex',\r\n    alignItems:'center',\r\n    justifyContent: 'center',\r\n    height: '100%',\r\n    overflow:'scoll',\r\n    maxHeight: '600px'\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2,4,3),\r\n  }\r\n}));\r\n\r\nfunction TransitionsModal () {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  }\r\n\r\n  return (\r\n\r\n    <div>\r\n      <Button variant=\"contained\" type=\"button\" onClick={handleOpen}>\r\n        Instructions\r\n      </Button>\r\n    \r\n    <Dialog\r\n    aria-labelledby=\"trainsition-modal-title\"\r\n    aria-describedby=\"transition-modal-description\"\r\n    disableScrollLock={false}\r\n    className={classes.modal}\r\n    open={open}\r\n    onClose={handleClose}\r\n    closeAfterTransition\r\n    BackdropComponent={Backdrop}\r\n    BackdropProps={{\r\n      timeout: 500,\r\n    }}>\r\n      <Fade in={open}>\r\n            <div className={classes.paper}>\r\n              <h2 id=\"transition-modal-title\">INSTRUCTIONS</h2>\r\n              <p id=\"transition-modal-description\">Label tweets from followers of @slpng_giants. For context, \r\n              @slpng_giants organizes social media users to discourage companies from advertising on what the consider to be <q>harmful media outlets</q>. \r\n              </p> \r\n              <p id=\"transition-modal-description\">Label each Tweet with one of two labels/categories <strong>Click on one </strong>\r\n              label that best describes the tweet (to deselect, click again). </p> \r\n              <p>The labels are:</p>\r\n              <p id=\"transition-modal-description\"><strong>Denounces Hate Speech/Supports @Slpng_giants: </strong> \r\n              The tweet shows support for slpng_giants or identifies <q>hate speech</q> and right-wing media as a problem</p>\r\n              <ul id=\"transition-modal-description\">\r\n                <li> i don't know who to ask to figure out a way to block #bannon from \r\n                  coming to #toronto hosted by @munkschool to bring more hate to canada\r\n                  @davidfrum is participating i guess he thinks \r\n                  bannon proud boys incels etc are still worth wasting words on</li>\r\n              </ul>\r\n              <p id=\"transition-modal-description\"><strong>None: </strong> \r\n              None of the above tags or labels describe the Tweet.</p>\r\n              \r\n              <p id=\"transition-modal-description\"><strong>________________________________________________________________________</strong></p>\r\n              <p id=\"transition-modal-description\"><strong>Offensive Language Warning:</strong></p> \r\n              <p id=\"transition-modal-description\">There is a  slight chance that some tweets can contain adult language. If you are offended by such language, \r\n              please do not attempt this HIT.</p>\r\n              <p id=\"transition-modal-description\"><strong>Payment:</strong></p> \r\n              <p id=\"transition-modal-description\">There are several validation checks (tweets) in the HIT. You will be paid based on a proportion of how many of those validation tweets you correctly label. Additionally, \r\n              you will be paid in proportion to the number of items you complete, 5 cents per item. We offer a bonus of $1-$2 for excellent quality work.\r\n              </p>\r\n              <p id=\"transition-modal-description\">If you agree with these instructions, please click outside this dialog box to continue and &quot;Accept &amp; Work&quot;. <strong>By continuing you are agreeing to these terms.</strong> </p>\r\n              <p id=\"transition-modal-description\">You can see these instructions at any time by clicking the \"Instructions\" button</p>\r\n            </div>\r\n          </Fade>\r\n      </Dialog>\r\n      </div>\r\n    /*\r\n    <div>\r\n      <Button variant=\"contained\" type=\"button\" onClick={handleOpen}>\r\n        Instructions\r\n      </Button>\r\n      <Dialog\r\n        aria-labelledby=\"trainsition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        disableScrollLock={false}\r\n        className={classes.modal}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}>\r\n          <Fade in={open}>\r\n            <div className={classes.paper}>\r\n              <h2 id=\"transition-modal-title\">INSTRUCTIONS</h2>\r\n              <p id=\"transition-modal-description\">Label tweets from @slpng_giants. For context, \r\n              @slpng_giants organizes social media users to discourage companies from advertising on <q>harmful media outlets</q>. </p> \r\n              <p id=\"transition-modal-description\">A tweet can fall into one or more labels (tags). <strong>Click on one or more </strong>\r\n              labels that best describes the tweet. <strong>Click on ALL appropriate buttons </strong> to select them (to deselect, click again). \r\n              <strong>Earn a bonus for excellent work!</strong> </p> \r\n              <p>The labels are:</p>\r\n              <p id=\"transition-modal-description\"><strong>Higlights a Problem: </strong> \r\n              The tweet points out that something wrong is going on, e.g.</p>\r\n              <ul id=\"transition-modal-description\">\r\n                <li> Point taken. Blackmail is definitely beyond the pale. \r\n                The point is that there are many ways to violate journalistic \r\n                ethics and he has thus far shown that he's willing to support \r\n                organizations that seem to violate them on the regular. \r\n                You either believe in ethics or you don't.</li>\r\n                <li>\r\n                  Ingraham is absolutely dedicated to unabashed racism and there's no one stopping her from spewing it.\r\n                </li>\r\n              </ul>\r\n              <p id=\"transition-modal-description\"><strong>Suggests an action: </strong> \r\n              The Tweet suggests a course of action or offers a solution to something, e.g.</p>\r\n              <ul id=\"transition-modal-description\">\r\n                <li> Advertisers, the ones who are still left, should leave this show now. \r\n                  If you depend on consumers and employees of all backgrounds, \r\n                  remaining on this show is dangerous for your brand.</li>\r\n              </ul>\r\n              <p id=\"transition-modal-description\"><strong>Shows gratitude: </strong> \r\n              The Tweet/Thread is expressing sincere gratitude. e.g.</p>\r\n              <ul id=\"transition-modal-description\">\r\n                <li>Thank you, @KEEN, for both letting us know and taking the issue up with @amazon.</li>\r\n              </ul>\r\n              <p id=\"transition-modal-description\"><strong>Reports/Celebrates Success: </strong> \r\n              The tweet is celebbrating or reporting that a company has removed its ads from a site. e.g.</p>\r\n              <ul id=\"transition-modal-description\">\r\n                <li>CONFIRMED: @PennLPSOnline© has blocked Breitbart from their media buy!”</li>\r\n              </ul>\r\n              <p id=\"transition-modal-description\"><strong>None: </strong> \r\n              None of the above tags or labels describe the Tweet.</p>\r\n              <p id=\"transition-modal-description\"><strong>You can click on multiple lables if the tweet is suggesting multiple labels. </strong></p>\r\n              <p id=\"transition-modal-description\"><strong>________________________________________________________________________</strong></p>\r\n              <p id=\"transition-modal-description\"><strong>Offensive Language Warning:</strong></p> \r\n              <p id=\"transition-modal-description\">There is a  slight chance that some tweets can contain adult language. If you are offended by such language, \r\n              please do not attempt this HIT.</p>\r\n              <p id=\"transition-modal-description\"><strong>Payment:</strong></p> \r\n              <p id=\"transition-modal-description\">There are several validation checks (tweets) in the HIT. You will be paid based on a proportion of how many of those validation tweets you correctly label. Additionally, \r\n              you will be paid in proportion to the number of items you complete, 5 cents per item. We offer a bonus of $1-$2 for excellent quality work.\r\n              </p>\r\n              <p id=\"transition-modal-description\">If you agree with these instructions, please click outside this dialog box to continue and &quot;Accept &amp; Work&quot;. <strong>By continuing you are agreeing to these terms.</strong> </p>\r\n              <p id=\"transition-modal-description\">You can see these instructions at any time by clicking the \"Instructions\" button</p>\r\n            </div>\r\n          </Fade>\r\n      </Dialog>\r\n    </div>\r\n    */\r\n  );\r\n}\r\n\r\nclass JobTracker extends React.Component {\r\n/*\r\n  callAPI() {\r\n    var out = ''; \r\n    fetch(`https://opim-big-data-analytics.ue.r.appspot.com//testAPI/getPositionInHIT?htid=${this.props.htid}`)\r\n      .then(res => res.json()).then(data => {\r\n        this.setState({curr: data});\r\n        this.setState({responseReady: true});\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.callAPI()\r\n  }\r\n*/\r\n  render() { \r\n\r\n    return (\r\n      <p>{`${this.props.curr_rank}/${this.props.total_num}`}</p>\r\n    )\r\n  \r\n  }\r\n\r\n}\r\n\r\nclass Observation extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      id_num: this.props.values,\r\n      diagnostic_is_selected: false,\r\n      prognostic_is_selected: false,\r\n      motivational_is_selected: false,\r\n      success_is_selected: false,\r\n      gratitude_is_selected: false,\r\n      no_framing_is_selected: false,\r\n      action_is_selected: false,\r\n      consensus_is_selected: false,\r\n      responseReady: false,\r\n      observation_type: false,\r\n      observation_main: '',\r\n      observation_inreplyto: '',\r\n      observation_num: 0,\r\n      max_observations: 0,\r\n    }\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleSubmitClick = this.handleSubmitClick.bind(this);\r\n  }  \r\n  \r\n  callAPI() {\r\n    const call_url = `${api_base_url}/testAPI/getAnObservation?oid=${this.props.oid}&turkid=${this.props.turkid}`;\r\n    console.log(call_url);\r\n    fetch(call_url)\r\n      .then(res => res.json()).then(data => {\r\n        this.setState({observation_main: data[0].main_text, observation_num: data[0].rank_value, max_observations: data[0].max_observations});\r\n        this.setState({observation_inreplyto: data[0].in_response_text, observation_type: data[0].observation_type})\r\n        if (data[0].frameid) {\r\n          data.forEach(row => {\r\n            switch(row.frameid) {\r\n              case 1:\r\n                this.setState({diagnostic_is_selected: true});\r\n                break;\r\n              case 2:\r\n                this.setState({prognostic_is_selected: true});\r\n                break;\r\n              case 3:\r\n                this.setState({motivational_is_selected: true});\r\n                break;\r\n              case 5:\r\n                this.setState({gratitude_is_selected: true});\r\n                break;\r\n              case 7:\r\n                this.setState({success_is_selected: true});\r\n                break;\r\n              case 6:\r\n                this.setState({no_framing_is_selected: true});\r\n                break;\r\n              case 8:\r\n                this.setState({consensus_is_selected: true});\r\n                break;\r\n              case 4:\r\n                this.setState({action_is_selected: true});\r\n                break;\r\n          }\r\n          });\r\n        }\r\n        this.setState({responseReady: true})\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.callAPI()\r\n  }\r\n\r\n  handleClick() {\r\n    this.props.onClick(this.state.diagnostic_is_selected,\r\n      this.state.prognostic_is_selected,\r\n      this.state.success_is_selected,\r\n      this.state.gratitude_is_selected,\r\n      this.state.no_framing_is_selected,\r\n      this.state.action_is_selected,\r\n      this.state.consensus_is_selected)\r\n  }\r\n  handleBackClick() {\r\n    //changes to current hit will be lost\r\n    this.props.onBackClick(this.state.observation_num)\r\n  }\r\n  selectDiagFrame() {\r\n    const diagnostic_is_selected = this.state.diagnostic_is_selected\r\n    this.setState({diagnostic_is_selected: !diagnostic_is_selected})\r\n  }\r\n  selectProgFrame() {\r\n    const prognostic_is_selected = this.state.prognostic_is_selected\r\n    this.setState({prognostic_is_selected: !prognostic_is_selected})\r\n  }\r\n  selectMotiFrame() {\r\n    const motivational_is_selected = this.state.motivational_is_selected\r\n    this.setState({motivational_is_selected: !motivational_is_selected})\r\n  }\r\n  selectSuccessFrame(){\r\n    const success_is_selected = this.state.success_is_selected;\r\n    this.setState({success_is_selected: !success_is_selected});\r\n  }\r\n  selectGratitudeFrame(){\r\n    const gratitude_is_selected = this.state.gratitude_is_selected;\r\n    this.setState({gratitude_is_selected: !gratitude_is_selected});\r\n  }\r\n  selectNoFrame() {\r\n    const no_framing_is_selected = this.state.no_framing_is_selected;\r\n    this.setState({no_framing_is_selected: !no_framing_is_selected});\r\n  }\r\n  selectActionMobilization() {\r\n    const action_is_selected = this.state.action_is_selected;\r\n    this.setState({action_is_selected: !action_is_selected});\r\n  }\r\n  selectConsensusMobilization(){\r\n    const consensus_is_selected = this.state.consensus_is_selected;\r\n    this.setState({consensus_is_selected: !consensus_is_selected});\r\n  }\r\n  handleSubmitClick() {\r\n    this.props.onSubmitClick(this.state.diagnostic_is_selected,\r\n      this.state.prognostic_is_selected,\r\n      this.state.motivational_is_selected)\r\n  }\r\n\r\n  render() {\r\n      if (this.state.responseReady) {\r\n        let obs_body;\r\n        let nav_buttons;\r\n        if (this.state.observation_inreplyto != null)\r\n        {\r\n          obs_body = <div><MainPost text={`${this.state.observation_main}`}/> \r\n          <SubPost text={`${this.state.observation_inreplyto}`}/></div>\r\n        }\r\n        else {\r\n          obs_body = <MainPost text={`${this.state.observation_main}`}/>\r\n        }\r\n        if (this.state.observation_num > 1) {\r\n          nav_buttons = <div className='next-btn-container'>\r\n          <button className='square-btn' onClick={() => this.handleBackClick()}>\r\n            <i className='fa fa-chevron-left'></i> Back\r\n          </button>\r\n          <button className='square-btn' onClick={this.handleClick}>\r\n            <i className='fa fa-chevron-right'></i> Next Unlabeled\r\n          </button>\r\n        </div>\r\n        }\r\n        else {\r\n          nav_buttons =\r\n          <div className='next-btn-container'>\r\n            <button className='square-btn' onClick={this.handleClick}>\r\n              <i className='fa fa-chevron-right'></i> Next\r\n            </button>\r\n          </div>\r\n        }\r\n        if (this.state.observation_num == this.state.max_observations)\r\n        {\r\n          const submitLink = `https://www.mturk.com/mturk/externalSubmit`\r\n          nav_buttons = \r\n          <div className='next-btn-container'>\r\n          <form onSubmit={this.handleSubmitClick} action={submitLink} method=\"POST\">\r\n            <input id=\"assignmentId\" name=\"assignmentId\" type=\"hidden\" value={this.props.assignmentId} />\r\n            <input id=\"answer\" name=\"answer\" type=\"hidden\" value=\"worker has completed all elements of this HIT\" />\r\n            <button className='square-btn' onClick={() => this.handleBackClick()}>\r\n              <i className='fa fa-chevron-left'></i> Back\r\n            </button>\r\n            <button className='square-btn' type=\"submit\">\r\n              <i className='fa fa-chevron-right'></i> Submit\r\n            </button>\r\n          </form>\r\n          </div>\r\n        }\r\n        if (!this.state.observation_type || this.state.observation_type == 'frame')\r\n        {\r\n        return (\r\n            <div>\r\n              <JobTracker curr_rank={this.state.observation_num}\r\n                          total_num={this.state.max_observations} \r\n                          htid={this.props.hitid}/>\r\n              \r\n              {obs_body}\r\n              <FrameType value='Higlights a Problem' \r\n                      isSelected={this.state.diagnostic_is_selected}\r\n                      onClick={() => this.selectDiagFrame()}/>\r\n              <FrameType value='Suggests an Action'\r\n                        isSelected={this.state.prognostic_is_selected}\r\n                        onClick={() => this.selectProgFrame()} />\r\n              <FrameType value='Expresses Gratitude'\r\n                        isSelected={this.state.gratitude_is_selected}\r\n                        onClick={() => this.selectGratitudeFrame()} />\r\n              <FrameType value='Report/Celebrate Success'\r\n                      isSelected={this.state.success_is_selected}\r\n                      onClick={() => this.selectSuccessFrame()} />\r\n              <FrameType value='None'\r\n                      isSelected={this.state.no_framing_is_selected}\r\n                      onClick={() => this.selectNoFrame()} />\r\n              {nav_buttons}\r\n            </div>\r\n          );\r\n        }\r\n        else if (this.state.observation_type == 'participant/sg_related' || this.state.observation_type == 'participant/sg_unrelated') {\r\n          return(\r\n            <div>\r\n            <JobTracker curr_rank={this.state.observation_num}\r\n                          total_num={this.state.max_observations} \r\n                          htid={this.props.hitid}/>\r\n            {obs_body}\r\n            <FrameType value='Denounces Hate Speech/Supports @slpng_giants'\r\n                isSelected={this.state.consensus_is_selected}\r\n                onClick={() => this.selectConsensusMobilization()} />\r\n            <FrameType value='None'\r\n                  isSelected={this.state.no_framing_is_selected}\r\n                  onClick={() => this.selectNoFrame()} />\r\n            {nav_buttons}\r\n          </div>\r\n          );\r\n        }\r\n      }\r\n      else {\r\n        return (\r\n          <div>\r\n            <JobTracker id_num={this.state.id_num}\r\n                        total_num={'100'} \r\n                        htid={this.props.hitid}/>\r\n            \r\n            <MainPost text={'Loading...'}/>\r\n            <FrameType value='Higlights a Problem' \r\n                      isSelected={this.state.diagnostic_is_selected}\r\n                      onClick={() => this.selectDiagFrame()}/>\r\n            <FrameType value='Suggests an Action'\r\n                      isSelected={this.state.prognostic_is_selected}\r\n                      onClick={() => this.selectProgFrame()} />\r\n            <FrameType value='Expresses Gratitude'\r\n                      isSelected={this.state.motivational_is_selected}\r\n                      onClick={() => this.selectMotiFrame()} />\r\n            <FrameType value='Report/Celebrate Success'\r\n                      isSelected={this.state.motivational_is_selected}\r\n                      onClick={() => this.selectMotiFrame()} />\r\n            <FrameType value='None'\r\n                      isSelected={this.state.motivational_is_selected}\r\n                      onClick={() => this.selectMotiFrame()} />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n\r\nclass HIT extends React.Component {\r\n  \r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      hitid: null,\r\n      observations: [],\r\n      responseReady: false,\r\n      turkid: null,\r\n      redirect_to_submit: null,\r\n    }\r\n    this.getNext = this.getNext.bind(this);\r\n    this.getLast = this.getLast.bind(this);\r\n    this.submitHIT = this.submitHIT.bind(this);\r\n  }\r\n\r\n  callAPI() {\r\n    this.setState({responseReady:false});\r\n    const api_url = `${api_base_url}/testAPI/getObservations?hitid=${this.props.hitid}`+\r\n    `&turkid=${this.props.turkid}`;\r\n    this.setState({turkid:this.props.turkid})\r\n    console.log(api_url);\r\n    fetch(api_url).then(res => res.json())\r\n        .then(data => {\r\n          console.log(data);\r\n          this.setState({observations: data[0]});\r\n          this.setState({responseReady: true});\r\n      });\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.callAPI();\r\n  }\r\n\r\n  getNext(df, pf, sf, gf, nf, am, cm) {\r\n    //todo: make api call to submit annotation, get confirmation of new row insert,\r\n    //then make another call to update observations in the HIT state \r\n    const api_url = `${api_base_url}/testAPI/submitAnnotation?hitid=${this.props.hitid}`+\r\n                    `&turkid=${this.state.turkid}&oid=${this.state.observations.oid}&gf=${gf}`+\r\n                    `&pf=${pf}&df=${df}&sf=${sf}&nf=${nf}&am=${am}&cm=${cm}`;\r\n    fetch(api_url).then(res => res.json()).then(data => \r\n      {\r\n        if (data.status == 'OK') {\r\n          this.callAPI()\r\n      } \r\n    });\r\n  }\r\n\r\n  getLast(rank_value) {\r\n    if (rank_value > 1) {\r\n      this.setState({responseReady:false});\r\n      const api_url = `${api_base_url}/testAPI/getAnObservation?hitid=${this.props.hitid}`+\r\n                      `&value_rank=${rank_value}&turkid=${this.props.turkid}`;\r\n      console.log(api_url);\r\n      fetch(api_url).then(res => res.json()).then(data => {\r\n        console.log(data); \r\n        this.setState({observations: data[0]});\r\n        this.setState({responseReady:true});})\r\n    }\r\n  }\r\n//CHANGE TO ACTUAL MTURK NOT SANDBOX\r\n  submitHIT(df, pf, sf, gf, nf,am,  cm) {\r\n    const api_url = `${api_base_url}/testAPI/submitAnnotation?hitid=${this.props.hitid}`+\r\n                    `&turkid=${this.state.turkid}&oid=${this.state.observations.oid}&sf=${sf}`+\r\n                    `&pf=${pf}&df=${df}&gf=${gf}&nf=${nf}&am=${am}&cm=${cm}`;\r\n    fetch(api_url).then(res => res.json()).then(data => \r\n      {\r\n        if (data.status == 'OK') {\r\n          const submitLink = `https://www.mturk.com/mturk/externalSubmit?assignmentId=${this.props.assignmentId}`\r\n          this.setState({redirect_to_submit: submitLink})\r\n      } \r\n    });\r\n  }\r\n  render() {\r\n    /*\r\n    if (this.state.redirect_to_submit) {\r\n      return (\r\n        <Redirect to={this.state.redirect_to_submit} ></Redirect>\r\n      );\r\n    }\r\n    */\r\n    if (this.state.responseReady && this.state.observations) {\r\n      return (\r\n        <div>\r\n          <Observation oid={this.state.observations.oid} \r\n            hitid={this.props.hitid} \r\n            onClick={this.getNext}\r\n            onBackClick={this.getLast}\r\n            onSubmitClick={this.submitHIT}\r\n            turkid={this.props.turkid}\r\n            assignmentId={this.props.assignmentId}/>\r\n        </div>\r\n      );\r\n    } else if (!this.state.observations) {\r\n      return (<p>this HIT is complete!! please close this window.</p>)\r\n    } else\r\n    {\r\n      return (\r\n        <img src=\"https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif\" />\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nclass Navigation extends React.Component {\r\n  render()\r\n  {\r\n    const raw_query = new URLSearchParams(this.props.location.search);\r\n    //conditionally return \"Next\" or \"Finish\" at the end of the HIT\r\n    //getsghit?htid=1&mturkid=1\r\n    \r\n    return (\r\n      <div>\r\n        <HIT hitid={raw_query.get('htid')} turkid={raw_query.get('workerId')} assignmentId={raw_query.get('assignmentId')}></HIT>\r\n        <TransitionsModal />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(<Router >\r\n                  <div>\r\n                    <Route exact path='/getsghit' component={Navigation} />\r\n                    <Route exact path='/getpartyhit' component={Navigation} />\r\n                  </div>\r\n                </Router>, document.getElementById('root'))\r\n//TODO create grat",{"ruleId":"15","severity":1,"message":"16","line":276,"column":13,"nodeType":"17","messageId":"18","endLine":301,"endColumn":12},{"ruleId":"19","severity":1,"message":"20","line":393,"column":40,"nodeType":"21","messageId":"22","endLine":393,"endColumn":42},{"ruleId":"19","severity":1,"message":"20","line":410,"column":73,"nodeType":"21","messageId":"22","endLine":410,"endColumn":75},{"ruleId":"19","severity":1,"message":"20","line":438,"column":46,"nodeType":"21","messageId":"22","endLine":438,"endColumn":48},{"ruleId":"19","severity":1,"message":"20","line":438,"column":105,"nodeType":"21","messageId":"22","endLine":438,"endColumn":107},{"ruleId":"19","severity":1,"message":"20","line":528,"column":25,"nodeType":"21","messageId":"22","endLine":528,"endColumn":27},{"ruleId":"19","severity":1,"message":"20","line":553,"column":25,"nodeType":"21","messageId":"22","endLine":553,"endColumn":27},{"ruleId":"23","severity":1,"message":"24","line":584,"column":9,"nodeType":"25","endLine":584,"endColumn":91},"default-case","Expected a default case.","SwitchStatement","missingDefaultCase","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement"]